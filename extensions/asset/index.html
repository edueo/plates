<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
            <link rel="icon" type="image/x-icon" href="/img/favicon.ico" />
                <link rel="apple-touch-icon-precomposed" href="/img/apple-touch-icon-precomposed.png">
                <title>Asset extension - Plates</title>
                <meta name="description" content="Plates is a Twig inspired, native PHP template system that brings modern template language functionality to native PHP templates.">
                <link rel="stylesheet" href="/themes/thephpleague/thephpleague.github.com/css/all.css">
    </head>
<body>

<section class="all_packages">
    <a href="http://thephpleague.com/">
        <img src="/themes/thephpleague/thephpleague.github.com/img/loep_logo.png" width="195" height="200" alt="The League of Extraordinary Packages">
    </a>
    <h2>Our Packages:</h2>
    <ul>
    </ul>
</section>

<header>
    <a class="logo" href="/">
                    <span class="icon">
                <img src="/img/logo.png" width="50" height="40" alt="Plates - Native PHP Templates">
            </span>
                <span class="name">Plates</span>
        <span class="tagline">Native PHP Templates</span>
    </a>
    <a href="http://thephpleague.com/" class="league">
        Presented by The League of Extraordinary Packages
    </a>
</header>

<input type="checkbox" id="menu">
<label for="menu" onclick>
    <div class="closed">&#9776; Menu</div>
    <div class="open">&#9776; Hide Menu</div>
</label>

<main>
    <menu>
                    <h2>Getting Started</h2>
            <ul>
                                    <li >
                        <a href="/">Introduction</a>
                    </li>
                                    <li >
                        <a href="/simple-example/">Simple example</a>
                    </li>
                                    <li >
                        <a href="/installation/">Installation</a>
                    </li>
                            </ul>
                    <h2>The Engine</h2>
            <ul>
                                    <li >
                        <a href="/engine/">Overview</a>
                    </li>
                                    <li >
                        <a href="/engine/file-extensions/">File extensions</a>
                    </li>
                                    <li >
                        <a href="/engine/folders/">Folders</a>
                    </li>
                            </ul>
                    <h2>Templates</h2>
            <ul>
                                    <li >
                        <a href="/templates/">Overview</a>
                    </li>
                                    <li >
                        <a href="/templates/variables/">Variables</a>
                    </li>
                                    <li >
                        <a href="/templates/nesting/">Nesting</a>
                    </li>
                                    <li >
                        <a href="/templates/layouts/">Layouts</a>
                    </li>
                                    <li >
                        <a href="/templates/sections/">Sections</a>
                    </li>
                                    <li >
                        <a href="/templates/inheritance/">Inheritance</a>
                    </li>
                                    <li >
                        <a href="/templates/syntax/">Syntax</a>
                    </li>
                            </ul>
                    <h2>Extensions</h2>
            <ul>
                                    <li >
                        <a href="/extensions/">Overview</a>
                    </li>
                                    <li >
                        <a href="/extensions/escape/">Escape</a>
                    </li>
                                    <li >
                        <a href="/extensions/batch/">Batch</a>
                    </li>
                                    <li >
                        <a href="/extensions/uri/">URI</a>
                    </li>
                                    <li class="selected">
                        <a href="/extensions/asset/">Asset</a>
                    </li>
                            </ul>
            </menu>
    <article>
        <h1>Asset extension</h1>

<p>The asset extension can be used to quickly create “cache busted” asset URLs in your templates. This is particularly helpful for aggressively cached files that can potentially change in the future, such as CSS files, JavaScript files and images. It works by appending the timestamp of the file’s last update to its URL. For example, <code>/css/all.css</code> becomes <code>/css/all.1373577602.css</code>. As long as the file does not change, the timestamp remains the same and caching occurs. However, if the file is changed, a new URL is automatically generated with a new timestamp, and visitors receive the new file.</p>

<h2>Installing the asset extension</h2>

<p>The asset extension comes packaged with Plates but is not enabled by default, as it requires extra parameters passed to it at instantiation.</p>

<pre><code class="language-php">&lt;?php

// Load asset extension
$engine-&gt;loadExtension(new \League\Plates\Extension\Asset('/path/to/public/assets/', true));
</code></pre>

<p>The first constructor parameter is the file system path of the assets directory. The second is an optional <code>boolean</code> parameter that if set to true uses the filename caching method (ie. <code>file.1373577602.css</code>) instead of the default query string method (ie. <code>file.css?v=1373577602</code>).</p>

<h2>Filename caching</h2>

<p>To make filename caching work, some URL rewriting is required:</p>

<h3>Apache example</h3>

<pre><code class="language-php">&lt;IfModule mod_rewrite.c&gt;
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteRule ^(.+)\.(\d+)\.(js|css|png|jpg|gif)$ $1.$3 [L]
&lt;/IfModule&gt;
</code></pre>

<h3>Nginx example</h3>

<pre><code class="language-php">location ~* (.+)\.(?:\d+)\.(js|css|png|jpg|jpeg|gif)$ {
   try_files $uri $1.$2;
}
</code></pre>

<h2>Using the asset extension</h2>

<pre><code class="language-php">&lt;!DOCTYPE html&gt;
&lt;head&gt;
    &lt;title&gt;Asset Extension Example&lt;/title&gt;
    &lt;link rel="stylesheet" href="&lt;?=$this-&gt;asset('/css/all.css')?&gt;" /&gt;
&lt;/head&gt;

&lt;body&gt;

&lt;img src="&lt;?=$this-&gt;asset('/img/logo.png')?&gt;"&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre>
    </article>
</main>

<footer>
    <span>&copy; Copyright The League of Extraordinary Packages.</span>
    <span>Site design by <a href="http://reinink.ca">Jonathan Reinink</a>.</span>
    <span>Powered by <a href="https://sculpin.io">Sculpin</a>.</span>
</footer>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="/themes/thephpleague/thephpleague.github.com/js/scripts.js"></script>
<script src="/themes/thephpleague/thephpleague.github.com/js/prism.js"></script>

    <script>
        (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
        function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
        e=o.createElement(i);r=o.getElementsByTagName(i)[0];
        e.src='//www.google-analytics.com/analytics.js';
        r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
        ga('create','UA-46050814-2');ga('send','pageview');
    </script>

</body>
</html>